<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Jenerator  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="Jenerator  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">Jenerator Docs</a> (20% documented)</p>
        <p class="header-right"><a href="https://github.com/romainmenke/Jenerator"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">Jenerator Reference</a>
        <img id="carat" src="img/carat.png" />
        Jenerator  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions.html#/s:Sa">Array</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions.html#/s:SS">String</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs.html#/s:V9Jenerator9JSONField">JSONField</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/JSONTypeAlias.html">JSONTypeAlias</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <p align="center">
    <a href="https://swift.org"><img src="https://img.shields.io/badge/Swift-2.3-orange.svg?style=flat" alt="Swift" /></a>
    <a href="https://swift.org"><img src="https://img.shields.io/badge/Swift-3.0-orange.svg?style=flat" alt="Swift" /></a>
    <a href="https://travis-ci.org/romainmenke/Jenerator"><img src="https://travis-ci.org/romainmenke/Jenerator.svg?branch=master" alt="Travis CI" /></a>
    <a href="https://codecov.io/gh/romainmenke/Jenerator"><img src="https://codecov.io/gh/romainmenke/Jenerator/branch/master/graph/badge.svg" alt="CodeCov" /></a>
    <a href="http://romainmenke.github.io/Jenerator/"><img src="https://img.shields.io/badge/Documented-19%25-blue.svg" alt="Jazzy" /></a>
</p>
<a href='#jenerator' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='jenerator'>Jenerator</h1>

<p>Create Swift Models from JSON files or API calls</p>

<p>Build it -&gt; Drop somewhere in your PATH -&gt; Profit</p>

<p>Download from releases -&gt; Drop somewhere in your PATH -&gt; Profit</p>

<p>cmd :</p>

<p><code>jenerator &quot;myJSONRemoteSource&quot; &quot;saveDirectory&quot; &quot;filename&quot; &quot;classPrefix&quot;</code></p>

<p><code>jenerator &quot;myJSONLocalSource&quot; &quot;filename&quot; &quot;classPrefix&quot;</code></p>

<p>Try it:</p>

<p>cmd :</p>

<p><code>jenerator &quot;https://query.yahooapis.com/v1/public/yql?q=select%20item.condition%20from%20weather.forecast%20where%20woeid%20%3D%202487889&amp;format=json&amp;env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys&quot; &quot;$HOME/Desktop/&quot; YahooWeatherCurrent YW</code></p>

<p>turns this :</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-01T17:31:48Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lang"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="nt">"channel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nt">"condition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wed, 01 Jun 2016 09:00 AM PDT"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"temp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Partly Cloudy"</span><span class="w">
     </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Into this :</p>
<pre class="highlight plaintext"><code>import Foundation

struct YWResults {

    var channel : YWChannel?

    init(data:[String:AnyObject]) {

        if let nested = data["channel"] as? [String:AnyObject] {
            self.channel = YWChannel(data: nested)
        }
    }
}

struct YWChannel {

    var item : YWItem?

    init(data:[String:AnyObject]) {

        if let nested = data["item"] as? [String:AnyObject] {
            self.item = YWItem(data: nested)
        }
    }
}

struct YWItem {

    var condition : YWCondition?

    init(data:[String:AnyObject]) {

        if let nested = data["condition"] as? [String:AnyObject] {
            self.condition = YWCondition(data: nested)
        }
    }
}

struct YWQuery {

    var lang : String
    var created : String
    var results : YWResults?
    var count : Int

    init(data:[String:AnyObject]) {
        self.lang = (data["lang"] as? String) ?? ""
        self.created = (data["created"] as? String) ?? ""

        if let nested = data["results"] as? [String:AnyObject] {
            self.results = YWResults(data: nested)
        }
        self.count = (data["count"] as? Int) ?? 0
    }

    static func fromSource() -&gt; YWQuery? {
        guard let url = NSURL(string: "https://query.yahooapis.com/v1/public/yql?q=select%20item.condition%20from%20weather.forecast%20where%20woeid%20%3D%202487889&amp;format=json&amp;env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys"), data = NSData(contentsOfURL: url) else {
            return nil
        }
        do {
            let json = try NSJSONSerialization.JSONObjectWithData(data, options: NSJSONReadingOptions.MutableContainers)
            if let dict = json as? [String:AnyObject], let objectData = dict["query"] as? [String:AnyObject] {
                return YWQuery(data: objectData)
            }
        } catch {}
        return nil
    }
}

struct YWCondition {

    var code : String
    var temp : String
    var text : String
    var date : String

    init(data:[String:AnyObject]) {
        self.code = (data["code"] as? String) ?? ""
        self.temp = (data["temp"] as? String) ?? ""
        self.text = (data["text"] as? String) ?? ""
        self.date = (data["date"] as? String) ?? ""
    }
}
</code></pre>

<p>The top level Type will have a <code>fromSource()</code> method that can be used to fetch the data to goes with the model. Obviously you can and should modify this to create other queries.</p>

<p>Note :</p>

<p>Swift CLI&rsquo;s don&rsquo;t like urls as arguments, will see if I can fix it in an update.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2016 <a class="link" href="https://github.com/romainmenke" target="_blank" rel="external">Romain Menke</a>. All rights reserved. (Last updated: 2016-06-05)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.6.2</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
